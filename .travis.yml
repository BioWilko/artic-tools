language: cpp

sudo: false
dist: xenial

compiler:
  - clang
  - gcc

before_script:
  - git submodule update --init --recursive
  - pushd extlib/htslib
  - autoheader && autoconf && make && make install
  - popd
  - mkdir build
  - cd build
  - cmake ..

script:
  - make -j2 && ctest -V
  - ../bin/artic_tools -v
